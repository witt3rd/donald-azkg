---
tags: [api, python, development]
---
# YouTube Transcript API Documentation

**Context7 Library ID:** `/jdepoix/youtube-transcript-api`

## Installation

```bash
pip install youtube-transcript-api
```

## Basic Usage

### Simple transcript fetch

```python
from youtube_transcript_api import YouTubeTranscriptApi

ytt_api = YouTubeTranscriptApi()
ytt_api.fetch(video_id)
```

### Fetch with specific languages

```python
YouTubeTranscriptApi().fetch(video_id, languages=['de', 'en'])
```

### Preserve HTML formatting

```python
YouTubeTranscriptApi().fetch(video_ids, languages=['de', 'en'], preserve_formatting=True)
```

## Advanced Usage

### List available transcripts

```python
ytt_api = YouTubeTranscriptApi()
transcript_list = ytt_api.list(video_id)
```

### Comprehensive example with metadata

```python
from youtube_transcript_api import YouTubeTranscriptApi

ytt_api = YouTubeTranscriptApi()

# retrieve the available transcripts
transcript_list = ytt_api.list('video_id')

# iterate over all available transcripts
for transcript in transcript_list:
    # the Transcript object provides metadata properties
    print(
        transcript.video_id,
        transcript.language,
        transcript.language_code,
        # whether it has been manually created or generated by YouTube
        transcript.is_generated,
        # whether this transcript can be translated or not
        transcript.is_translatable,
        # a list of languages the transcript can be translated to
        transcript.translation_languages,
    )

    # fetch the actual transcript data
    print(transcript.fetch())

    # translating the transcript will return another transcript object
    print(transcript.translate('en').fetch())

# you can also directly filter for the language you are looking for
transcript = transcript_list.find_transcript(['de', 'en'])

# or just filter for manually created transcripts
transcript = transcript_list.find_manually_created_transcript(['de', 'en'])

# or find generated transcripts
transcript = transcript_list.find_generated_transcript(['de', 'en'])
```

### Translation

```python
transcript = transcript_list.find_transcript(['en'])
translated_transcript = transcript.translate('de')
print(translated_transcript.fetch())
```

## Authentication & Proxies

### Cookie authentication (for age-restricted videos)

```python
ytt_api = YouTubeTranscriptApi(cookie_path='/path/to/your/cookies.txt')
ytt_api.fetch(video_id)
```

### Custom HTTP requests

```python
from requests import Session

http_client = Session()
# set custom header
http_client.headers.update({"Accept-Encoding": "gzip, deflate"})
# set path to CA_BUNDLE file
http_client.verify = "/path/to/certfile"

ytt_api = YouTubeTranscriptApi(http_client=http_client)
ytt_api.fetch(video_id)
```

### Webshare proxy configuration

```python
from youtube_transcript_api import YouTubeTranscriptApi
from youtube_transcript_api.proxies import WebshareProxyConfig

ytt_api = YouTubeTranscriptApi(
    proxy_config=WebshareProxyConfig(
        proxy_username="<proxy-username>",
        proxy_password="<proxy-password>",
    )
)
ytt_api.fetch(video_id)
```

### Generic proxy configuration

```python
from youtube_transcript_api import YouTubeTranscriptApi
from youtube_transcript_api.proxies import GenericProxyConfig

ytt_api = YouTubeTranscriptApi(
    proxy_config=GenericProxyConfig(
        http_url="http://user:pass@my-custom-proxy.org:port",
        https_url="https://user:pass@my-custom-proxy.org:port",
    )
)
ytt_api.fetch(video_id)
```

## Formatters

### Available formatters

```python
from youtube_transcript_api.formatters import Formatter
from youtube_transcript_api.formatters import JSONFormatter
from youtube_transcript_api.formatters import TextFormatter
from youtube_transcript_api.formatters import WebVTTFormatter
from youtube_transcript_api.formatters import SRTFormatter
```

### JSON formatting and saving

```python
from youtube_transcript_api import YouTubeTranscriptApi
from youtube_transcript_api.formatters import JSONFormatter

ytt_api = YouTubeTranscriptApi()
transcript = ytt_api.fetch(video_id)

formatter = JSONFormatter()
json_formatted = formatter.format_transcript(transcript, indent=2)

with open('your_filename.json', 'w', encoding='utf-8') as json_file:
    json_file.write(json_formatted)
```

### Custom formatter

```python
class MyCustomFormatter(Formatter):
    def format_transcript(self, transcript: FetchedTranscript, **kwargs) -> str:
        return 'your processed output data as a string.'

    def format_transcripts(self, transcripts: List[FetchedTranscript], **kwargs) -> str:
        return 'your processed output data as a string.'
```

## Command Line Interface

### Basic usage

```bash
youtube_transcript_api <first_video_id> <second_video_id> ...
```

### Specify languages

```bash
youtube_transcript_api <first_video_id> <second_video_id> ... --languages de en
```

### List transcripts

```bash
youtube_transcript_api --list-transcripts <first_video_id>
```

### Translation

```bash
youtube_transcript_api <first_video_id> <second_video_id> ... --languages en --translate de
```

### JSON output

```bash
youtube_transcript_api <first_video_id> <second_video_id> ... --languages de en --format json > transcripts.json
```

### Exclude generated/manual subtitles

```bash
youtube_transcript_api <first_video_id> <second_video_id> ... --languages de en --exclude-generated
youtube_transcript_api <first_video_id> <second_video_id> ... --languages de en --exclude-manually-created
```

### With cookies

```bash
youtube_transcript_api <first_video_id> <second_video_id> --cookies /path/to/your/cookies.txt
```

### With proxies

```bash
# Webshare
youtube_transcript_api <first_video_id> <second_video_id> --webshare-proxy-username "username" --webshare-proxy-password "password"

# Generic proxy
youtube_transcript_api <first_video_id> <second_video_id> --http-proxy http://user:pass@domain:port --https-proxy https://user:pass@domain:port
```

### Video IDs with hyphens

```bash
youtube_transcript_api "\-abc123"
```

## Development Setup

### Install dependencies

```bash
poetry install --with test,dev
```

### Development tasks

```bash
poe test
poe coverage
poe format
poe lint
poe precommit
```

## Cookie File Format

The cookies.txt file should follow the Netscape format:

```
.example.com TRUE / TRUE 3594431874 TEST_FIELD TEST_VALUE
```

This comprehensive documentation covers all major features of the YouTube Transcript API including basic usage, advanced configuration, authentication, proxy support, formatting options, and CLI usage.

## Related Concepts

### Prerequisites
- [[python_coding_standards]] - Need Python knowledge to use YouTube Transcript API